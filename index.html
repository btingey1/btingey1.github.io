<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript" src="CCapture.js"></script>
    <script type="text/javascript" src="webm-writer-0.2.0.js"></script>
    <script type="text/javascript" src="gif.js"></script>
    <script type="text/javascript" src="tar.js"></script>
    <script type="text/javascript" src="download.js"></script>
    <style>
        body{ background-color: green; }
        #canvas{border:1px solid red;}
        @font-face {
          font-family: 'Inconsolata';
          font-style: normal;
          font-weight: 600;
          font-stretch: 100%;
          src: url(Inconsolata.ttf);
          unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
    </style>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
</head>
<body>
  <form>
    <h1 style="font-family: 'Inconsolata'">Number of NFTs</h1>
    <input type="text" name="userHold" id = "userHold" width="48" height="80">
    <h1 style="font-family: 'Inconsolata'">Average number of days</h1>
    <input type="text" name="userTime" id = "userTime" width="48" height="80"><br><br>
    <input type="button" value="Submit" id = "submit" onclick="setValues();">
  </form> 
    <canvas id="canvas" width=1400 height=1400></canvas>
  
  <script>

var canvas=document.getElementById("canvas");
var ctx=canvas.getContext("2d");
var cw=canvas.width;
var ch=canvas.height;

var capturer = new CCapture( {
	format: 'jpg',
	verbose: true
} );

var x=cw/2;
var y=ch/2;
var wallet = '0xD14...60E9';
var rank = 'Top 20%';
var holdX = 0;
var holdStr = '';
var hold = '';
var averageTimeX = 0;
var averageTimeStr = '';
var averageTime;
var averageTimePurple;
var spaceAmountx;
var spaceAmounty;
var spaceEx = ' ';

function setValues () {
  holdX = document.getElementById("userHold").value;
  holdStr = holdX.toString();
  holdL = holdStr.length + 3;
  spaceAmounty = spaceEx.repeat(holdL);
  hold = 'Currently hold' + spaceAmounty + 'NFTs.';
  averageTimeX = document.getElementById("userTime").value;
  averageTimeStr = averageTimeX.toString();
  averageTimeL = averageTimeStr.length + 2;
  spaceAmountx = spaceEx.repeat(averageTimeL);
  averageTime = 'Average holding time of' + spaceAmountx + 'days.';
  capturer.start();
  draw();
}


var front=new Image();
front.src="https://previews.dropbox.com/p/thumb/ABugqxhg0n1IcmgzRtf98Wne7fNwBeGbklx-Ubxp3YuDQ269QOhCPkLRB1a3iZbD0BsW9OZuzp2-REP96zAEiiJAjs_RkEIEgHLOpDcOaL0OfTS42sxlvl-XKmkc8R_51RTwesw7nlQtDHsYH5217blCxZXqk_lbdjNFAN1EX2bwOAaKU6EuSqx_Oyh-sChVjtSUxI6nQpvzQrFbQa61ISM99lLGnIKJq67zj4RNqcD2btlWqoaV8lAD4GJDDuPINfGP2Z7ztJBn7Q88Nbesvvee0XgX9LSw6TTCOX63kgA_kJvnCCoGr4dLxHiI4t8facY6xkdXgwJ4IjJKkiyP6jOLOgF0qegemtiAfzsEnzyXqNvoQGNwdLSZho8VQ-Oiis8/p.png";
var bg=new Image();
bg.src="https://ucbf4cd2f8bc8ec64694e1c928e5.previews.dropboxusercontent.com/p/thumb/ABvBdoM-uewdyvN26Bp0ZQ2J_Y_iNY8XHh-l_HX-2l7AZtJXgNjgQoIOwJIGyW933LFOwkceAnFtFl8qwkW-QiOTOfPfcvyzZLhugjKDwvI1L9T4RlilPc0pro2pDfZEEpg2QgWaS-ZQb4xxgad7QiiWAwXE8ZlD-GRtDDsix5t1kmA6U1Ll4SeJD9Tr3GtJNK_xKmY6-mDO5Wao5l6_8F65imFxRocHLRt-BcXKkwR5pcNpxM4uAbHZ1dQo-3rnk0TDljF1faXonM9xEuR4ipekPR_X2Sof_CTGwla6rYKfNWE0ae8jMpoPpTTs8pJ9YDGrzPHaZXtPuuRcPGNJaGRpYNxlPk4yKVBsAwN8KSef5QfmbPwYFPhi12z6lM3PChOt39wXbXyWjITmvQXiarUmnegoPKAqxqqM-hOqmy3fGg/p.png";

function draw(){
  ctx.drawImage(bg,0,0)
  console.log(holdX)
  ctx.drawImage(front,((cw/2) - (front.width/2)),((ch/2) - (front.height/2)));
  ctx.font = '64px Inconsolata';
  ctx.fillStyle = 'white';
  ctx.textBaseline = 'top';
  ctx.fillText  (wallet, ((cw/2) - (front.width/2) + (front.width/14)), ((ch/2) - (front.height/2)) + (front.height/14));
  ctx.font = '48px Inconsolata';
  ctx.fillText  (rank, ((cw/2) - (front.width/2) + (front.width/14)), ((ch/2) - (front.height/2)) + (front.height/3));
  ctx.font = '48px Inconsolata';
  ctx.fillText  (hold, ((cw/2) - (front.width/2) + (front.width/14)), ((ch/2) - (front.height/2)) + (front.height/1.8));
  ctx.fillText  (averageTime, ((cw/2) - (front.width/2) + (front.width/14)), ((ch/2) - (front.height/2)) + (front.height/1.3));
  ctx.fillStyle = 'purple';
  ctx.fillText  (holdStr, ((cw/2) - (front.width/2) + (front.width/2.77)), ((ch/2) - (front.height/2)) + (front.height/1.8));
  ctx.fillText  (averageTimeStr, ((cw/2) - (front.width/2) + (front.width/1.95)), ((ch/2) - (front.height/2)) + (front.height/1.3));
  capturer.capture( canvas );
  capturer.stop();
  capturer.save();
}

    </script>
  <br>
  
</body>
</html>